"use strict";(self["webpackChunkweweb_front"]=self["webpackChunkweweb_front"]||[]).push([[862],{1862:(e,t,r)=>{r.r(t),r.d(t,{default:()=>i});var a=r(641),l=r(33);const o=["onClick"],d={class:"flex items-center py-0 px-1"};function s(e,t,r,s,n,p){const u=(0,a.g2)("wwEditorInputRow"),i=(0,a.g2)("wwEditorIcon"),m=(0,a.g2)("wwEditorInput"),c=(0,a.g2)("wwEditorFormRow");return(0,a.uX)(),(0,a.Wv)(u,{label:"Secured prompts",type:"array","model-value":p.securedPrompts,"onUpdate:modelValue":p.setSecuredPrompts,onAddItem:t[0]||(t[0]=e=>p.setSecuredPrompts([...p.securedPrompts,p.getNewItem()]))},{default:(0,a.k6)((({item:e,index:r,setItem:s})=>[(0,a.Lk)("div",{class:(0,l.C4)(["flex flex-col",{"border-top-primary pt-3":!!r}])},[(0,a.bF)(u,{type:"query","model-value":e.title,label:"Title",placeholder:"Enter the title of the prompt",small:"",required:"","onUpdate:modelValue":t=>s({...e,title:t})},null,8,["model-value","onUpdate:modelValue"]),(0,a.bF)(c,{label:"Content",required:""},{"append-label":(0,a.k6)((()=>[(0,a.Lk)("button",{type:"button",class:"ww-editor-button -secondary -dark -small -no-padding ml-2",onClick:t=>p.addVariable(e,s)},[(0,a.Lk)("div",d,[(0,a.bF)(i,{class:"ww-editor-button-icon -left",name:"plus",small:""}),t[1]||(t[1]=(0,a.eW)(" Add variable "))])],8,o)])),default:(0,a.k6)((()=>[(0,a.bF)(m,{type:"string","model-value":e.content,placeholder:"Enter your secured prompt",required:"","onUpdate:modelValue":t=>s({...e,content:t})},null,8,["model-value","onUpdate:modelValue"])])),_:2},1024)],2)])),_:1},8,["model-value","onUpdate:modelValue"])}const n={props:{plugin:{type:Object,required:!0},settings:{type:Object,required:!0}},emits:["update:settings"],computed:{securedPrompts(){return this.settings.privateData.securedPrompts||[]}},methods:{setSecuredPrompts(e){this.$emit("update:settings",{...this.settings,privateData:{...this.settings.privateData,securedPrompts:e}})},getNewItem(){return{id:wwLib.wwUtils.getUid()}},addVariable(e,t){const r=Math.max(...((e.content||"").match(/{{var\d+}}/g)||[]).map((e=>e.replace(/{{var(\d+)}}/g,"$1"))).map((e=>parseInt(e))),0);t({...e,content:(e.content||"")+`{{var${r+1}}}`})}}};var p=r(6262);const u=(0,p.A)(n,[["render",s]]),i=u}}]);